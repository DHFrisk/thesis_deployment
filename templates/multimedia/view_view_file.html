{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Archivos</title>
{% endblock title %}

{% block content %}
<div class="">
	<div class="card" style="">
        <div class="card-header">
            <h3 class="card-title">Listado archivos</h3>
        </div>
				<div class="card-body" style="">
					<div class="tab-content">
						 <div class="active tab-pane" id="files">
							 <ul class="nav nav-tabs" id="pills-tab" role="tablist">

									<li class="nav-item"><a class="nav-link active" href="#user-files" data-toggle="tab">Mis archivos</a></li>

									<li class="nav-item"><a class="nav-link" data-toggle="tab" href="#shared-files">Archivos compartidos conmigo</a></li>

	              </ul>
								<br>

								<!-- USER FILES -->
								<div class="tab-content" id="pills-tabContent">
									<div class="tab-pane fade show active" id="user-files" role="tabpanel" aria-labelledby="pills-home-tab">
										<table class="table table-striped table-bordered" id="table-users" style="width: 100%;">
				                <thead class="table-dark">
				                    <tr>
				                        <td>#</td>
				                        <td>Archivo</td>
																<td>Descarga</td>
				                    </tr>
				                </thead>
				                <tbody>
				                    {% for file in user_files %}
				                    <tr>
				                        <td>{{file.id}}</td>
				                        <td>{{file.description}}</td>
																<td>
																	<a href="{{file.file.url}}" download="{{file.file.description}}">
																		<button class="btn btn-default" style="width:100%; height:80%;">Descargar</button>
																	</a>
																</td>
				                    </tr>
				                    {% endfor %}
				                </tbody>
				            </table>
									</div>

								<!-- SHARED FILES -->

									<div class="tab-pane fade" id="shared-files" role="tabpanel" aria-labelledby="pills-profile-tab">
										<table class="table table-striped table-bordered" id="table-users" style="width: 100%;">
				                <thead class="table-dark">
				                    <tr>
				                        <td>#</td>
				                        <td>Archivo</td>
																<td>Grupo</td>
																<td>Descarga</td>
				                    </tr>
				                </thead>
				                <tbody>
				                    {% for file in shared_files %}
														<tr>
				                        <td>{{file.id}}</td>
				                        <td>{{file.description}}</td>
																<td>{{file.group}}</td>
																<td>
																	<a href="{{file.url}}" download="{{file.description}}">
																		<button class="btn btn-default" style="width:100%; height:80%;">Descargar</button>
																	</a>
																</td>
				                    </tr>
				                    {% endfor %}
				                </tbody>
				            </table>
									</div>
									</div>
							</div>
				</div>


        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        $("#table-users").DataTable({
            language:{
                "decimal":        "",
                "emptyTable":     "No hay datos disponibles en la tabla",
                "info":           "Mostrar _START_ a _END_ de _TOTAL_ entradas",
                "infoEmpty":      "Mostrando 0 a 0 de 0 entradas",
                "infoFiltered":   "(filtered from _MAX_ total entries)",
                "infoPostFix":    "",
                "thousands":      ",",
                "lengthMenu":     "Mostrar _MENU_ entradas",
                "loadingRecords": "Cargando...",
                "processing":     "Procesando...",
                "search":         "Buscar:",
                "zeroRecords":    "No se encontraron coincidencias",
                "paginate": {
                    "first":      "Primero",
                    "last":       "Ãšltimo",
                    "next":       "Siguiente",
                    "previous":   "Anterior"
                },
                "aria": {
                    "sortAscending":  ": Activar para ordenar columnas ascendentes",
                    "sortDescending": ": Activar para ordenar columnas descendientes"
                }
            }
        });
    });
</script>
{% endblock content %}
